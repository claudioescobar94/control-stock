(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[597],{72950:function(){},24654:function(){},22868:function(){},14777:function(){},99830:function(){},70209:function(){},610:function(e,t,n){Promise.resolve().then(n.bind(n,3824))},21151:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var o=n(9268);n(86006);var r=n(65507),i=n(47931);function a(e){let{onClickAction:t,tittle:n,color:a,disabled:c}=e;return(0,o.jsx)(r.Z,{direction:"row",spacing:2,children:(0,o.jsx)(i.Z,{disabled:c,onClick:t,variant:"outlined",color:a,children:n})})}},43631:function(e,t,n){"use strict";n.d(t,{dW:function(){return u},b9:function(){return d},Xp:function(){return s},qg:function(){return l},O9:function(){return p},MI:function(){return h}});var o=n(24214);let r={headers:{"content-type":"application/json"}};var i=n(87497),a=n.n(i);let c="http://localhost:8080/api",s=async()=>{try{let e=await o.Z.get("".concat(c,"/products?limit=1000"),r);return e.data.docs}catch(e){console.error(e)}},l=async()=>{try{let e=await o.Z.get("".concat(c,"/ventas?limit=1000"),r);return e.data.docs}catch(e){console.error(e)}},u=async e=>{let{selectRows:t}=e,n=a().stringify({where:{id:{contains:t}}},{addQueryPrefix:!0});try{let e=await fetch("http://localhost:8080/api/products/".concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"}}),t=await e.json();return t}catch(e){console.log(e)}},d=async e=>{let{selectRows:t}=e,n=a().stringify({where:{id:{contains:t}}},{addQueryPrefix:!0});try{let e=await fetch("http://localhost:8080/api/ventas/".concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"}}),t=await e.json();return t}catch(e){console.log(e)}},h=async e=>{try{let t=a().stringify(e),n=await fetch("http://localhost:8080/api/products",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t});if(n.ok){let e=await n.json();console.log("Datos enviados correctamente:",e)}else console.error("Error al enviar los datos:",n.status)}catch(e){console.error("Error de red:",e)}},p=async e=>{try{let t=await fetch("http://localhost:8080/api/products/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});t.ok?(await t.json(),console.log("Producto actualizado:",e)):console.error("Error al actualizar el producto:",t.status)}catch(e){console.log(e)}}},15894:function(e,t,n){"use strict";n.d(t,{PI:function(){return d},Zy:function(){return l},rZ:function(){return u},wd:function(){return h}});var o=n(43631);let r=async e=>{let{selectRows:t}=e;console.log("action products");try{console.log("action try"),await (0,o.dW)({selectRows:t})}catch(e){throw console.log(e),e}},i=async e=>{let{selectRows:t}=e;console.log("action products");try{console.log("action try"),await (0,o.b9)({selectRows:t})}catch(e){throw console.log(e),e}},a=async e=>{console.log("action productsAddaaa"),console.log(e);try{console.log("action try"),await (0,o.MI)(e)}catch(e){throw console.log(e),e}},c=async e=>{console.log("action productsEdit"),console.log(e);try{console.log("action try"),await (0,o.O9)(e)}catch(e){throw console.log(e),e}};n(990);var s=n(74824);let l=()=>{let e=(0,s.useQueryClient)();return(0,s.useMutation)(r,{onSuccess:()=>{e.invalidateQueries("product")},onError:()=>{e.invalidateQueries("product")}})},u=()=>{let e=(0,s.useQueryClient)();return(0,s.useMutation)(i,{onSuccess:()=>{e.invalidateQueries("product")},onError:()=>{e.invalidateQueries("product")}})},d=()=>{let e=(0,s.useQueryClient)();return(0,s.useMutation)(a,{onSuccess:()=>{e.invalidateQueries("product")},onError:()=>{e.invalidateQueries("product")}})},h=()=>{let e=(0,s.useQueryClient)();return(0,s.useMutation)(c,{onSuccess:()=>{e.invalidateQueries("product")},onError:()=>{e.invalidateQueries("product")}})}},3824:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o=n(9268),r=n(86006),i=n(8399),a=n(7069),c=n(21151),s=n(40856),l=n.n(s),u=n(15894);let d=e=>{let{data:t}=e;console.log(t);let[n,s]=(0,r.useState)([]),{mutate:d}=(0,u.rZ)(),h=()=>{let e=l().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"}});e.fire({title:"Eliminar producto/s",text:"Estas seguro que queres eliminar estos productos?",icon:"warning",showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",reverseButtons:!0}).then(t=>{t.isConfirmed?(d({selectRows:n}),e.fire("Eliminado!","Los productos fueron eliminados.","success")):t.dismiss===l().DismissReason.cancel&&e.fire("Cancelar","Cancelaste esta operacion","error")})};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(i.Z,{style:{maxHeight:800},children:[(0,o.jsx)(a._,{rows:t,columns:[{field:"date",headerName:"Fecha",width:200,description:"Nombre",align:"center",headerAlign:"center"},{field:"name",headerName:"Nombre",width:200,align:"center",headerAlign:"center"},{field:"supplier",headerName:"Proveedor",width:200,align:"center",headerAlign:"center"},{field:"description",headerName:"Descripcion",width:200,align:"center",headerAlign:"center"},{field:"quantity",headerName:"Cantidad",type:"number",width:200,align:"center",headerAlign:"center"},{field:"price",headerName:"Precio de costo",width:200,type:"number",align:"center",headerAlign:"center"},{field:"salePrice",headerName:"Precio de Venta",width:200,type:"number",align:"center",headerAlign:"center"}],pageSize:10,rowsPerPageOptions:[10],initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[5,10,25,50],checkboxSelection:!0,onRowSelectionModelChange:e=>{s(e)},rowSelectionModel:n}),(0,o.jsx)("div",{style:{display:"flex",justifyContent:"end",margin:"20px 0"},children:(0,o.jsx)(c.Z,{disabled:!(n.length>0),ids:n,onClickAction:h,tittle:"Eliminar",color:"error"})})]})})};var h=n(18962),p=n(74824),f=n(43631),g=n(14864);let y=()=>{let{data:e,isLoading:t}=(0,p.useQuery)(["product"],f.qg);return t?(0,o.jsxs)(h.W,{children:[(0,o.jsx)(h.U,{children:"Ventas"}),(0,o.jsx)(g.Z,{})]}):(0,o.jsxs)(h.W,{children:[(0,o.jsx)(h.U,{children:"Ventas"}),(0,o.jsx)(d,{data:e})]})};var m=y},18962:function(e,t,n){"use strict";n.d(t,{U:function(){return c},W:function(){return s}});var o=n(62805),r=n(44445);function i(){let e=(0,o._)(["\n  color: rgb(31 41 55);\n  font-size: 30px;\n  margin: 20px 0;\n\n"]);return i=function(){return e},e}function a(){let e=(0,o._)(["\n  max-width: 1200px;\n  margin: 0 auto;\n  height: 200vh\n"]);return a=function(){return e},e}let c=r.ZP.h1(i()),s=r.ZP.div(a())}},function(e){e.O(0,[974,824,781,667,139,744],function(){return e(e.s=610)}),_N_E=e.O()}]);