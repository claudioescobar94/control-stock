(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[987],{72950:function(){},24654:function(){},22868:function(){},14777:function(){},99830:function(){},70209:function(){},19917:function(e,t,n){Promise.resolve().then(n.bind(n,7714))},21151:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9268);n(86006);var i=n(65507),a=n(47931);function o(e){let{onClickAction:t,tittle:n,color:o,disabled:l}=e;return(0,r.jsx)(i.Z,{direction:"row",spacing:2,children:(0,r.jsx)(a.Z,{disabled:l,onClick:t,variant:"outlined",color:o,children:n})})}},43631:function(e,t,n){"use strict";n.d(t,{dW:function(){return d},b9:function(){return u},Xp:function(){return c},qg:function(){return s},O9:function(){return p},MI:function(){return h}});var r=n(24214);let i={headers:{"content-type":"application/json"}};var a=n(87497),o=n.n(a);let l="http://localhost:8080/api",c=async()=>{try{let e=await r.Z.get("".concat(l,"/products?limit=1000"),i);return e.data.docs}catch(e){console.error(e)}},s=async()=>{try{let e=await r.Z.get("".concat(l,"/ventas?limit=1000"),i);return e.data.docs}catch(e){console.error(e)}},d=async e=>{let{selectRows:t}=e,n=o().stringify({where:{id:{contains:t}}},{addQueryPrefix:!0});try{let e=await fetch("http://localhost:8080/api/products/".concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"}}),t=await e.json();return t}catch(e){console.log(e)}},u=async e=>{let{selectRows:t}=e,n=o().stringify({where:{id:{contains:t}}},{addQueryPrefix:!0});try{let e=await fetch("http://localhost:8080/api/ventas/".concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"}}),t=await e.json();return t}catch(e){console.log(e)}},h=async e=>{try{let t=o().stringify(e),n=await fetch("http://localhost:8080/api/products",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t});if(n.ok){let e=await n.json();console.log("Datos enviados correctamente:",e)}else console.error("Error al enviar los datos:",n.status)}catch(e){console.error("Error de red:",e)}},p=async e=>{try{let t=await fetch("http://localhost:8080/api/products/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});t.ok?(await t.json(),console.log("Producto actualizado:",e)):console.error("Error al actualizar el producto:",t.status)}catch(e){console.log(e)}}},7714:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(9268),i=n(86006),a=n(7069),o=n(8399),l=n(15894),c=n(40856),s=n.n(c),d=n(29376),u=n(19700),h=n(47931),p=n(21151);function m(e){let{data:t}=e,[n,c]=(0,i.useState)([]),[m,x]=(0,i.useState)(!1),[j,f]=(0,i.useState)(!1),{register:g,handleSubmit:y,reset:v}=(0,u.cI)({defaultValues:{}}),[b,N]=(0,i.useState)({id:"",name:"",description:"",quantity:"",price:""}),{mutate:w}=(0,l.Zy)(),{mutate:C}=(0,l.PI)(t),{mutate:P}=(0,l.wd)(b),E=()=>{let e=s().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"}});e.fire({title:"Eliminar producto/s",text:"Estas seguro que queres eliminar estos productos?",icon:"warning",showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",reverseButtons:!0}).then(t=>{t.isConfirmed?(w({selectRows:n}),e.fire("Eliminado!","Los productos fueron eliminados.","success")):t.dismiss===s().DismissReason.cancel&&e.fire("Cancelar","Cancelaste esta operacion","error")})},S=()=>{x(!0)},Z=e=>{N({id:e.id,name:e.name,supplier:e.supplier,description:e.description,quantity:e.quantity,price:e.price,salePrice:e.salePrice}),f(!0)},q=e=>{let t=e.target.name,n=e.target.value;N({...b,[t]:n})},k=()=>{f(!1)};return(0,r.jsxs)("div",{style:{paddingBottom:"100px"},children:[(0,r.jsxs)(o.Z,{style:{maxHeight:800},children:[(0,r.jsx)(a._,{rows:t,columns:[{field:"id",headerName:"ID",width:200,description:"Nombre",align:"center",headerAlign:"center"},{field:"name",headerName:"Nombre",width:200,align:"center",headerAlign:"center"},{field:"supplier",headerName:"Proveedor",width:200,align:"center",headerAlign:"center"},{field:"description",headerName:"Descripcion",width:200,align:"center",headerAlign:"center"},{field:"quantity",headerName:"Cantidad",type:"number",width:200,align:"center",headerAlign:"center"},{field:"price",headerName:"Precio de costo",width:200,type:"number",align:"center",headerAlign:"center"},{field:"salePrice",headerName:"Precio de Venta",width:200,type:"number",align:"center",headerAlign:"center"},{field:"",headerName:"",width:200,align:"center",headerAlign:"center",renderCell:e=>(0,r.jsx)(h.Z,{variant:"outlined",onClick:()=>Z(e.row),children:"Editar"})}],pageSize:10,rowsPerPageOptions:[10],initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[5,10,25,50],checkboxSelection:!0,onRowSelectionModelChange:e=>{c(e)},rowSelectionModel:n}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"end",margin:"20px 0"},children:[(0,r.jsx)(p.Z,{tittle:"Agregar",onClickAction:S}),(0,r.jsx)(d.Z,{open:m,onClose:()=>x(!1),children:(0,r.jsxs)("form",{className:"addProduct",onSubmit:y((e,t)=>{C(e),t.target.reset()}),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"input-label",children:"Nombre"}),(0,r.jsx)("input",{type:"text",...g("name",{required:!0}),placeholder:"Nombre"})]}),(0,r.jsx)("hr",{className:"divider"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"input-label",children:"Proveedor"}),(0,r.jsx)("input",{type:"text",...g("supplier",{required:!0}),placeholder:"Proveedor"})]}),(0,r.jsx)("hr",{className:"divider"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"input-label",children:"Descripci\xf3n"}),(0,r.jsx)("input",{type:"text",...g("description",{required:!1}),placeholder:"Descripci\xf3n"})]}),(0,r.jsx)("hr",{className:"divider"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"input-label",children:"Cantidad"}),(0,r.jsx)("input",{type:"number",...g("quantity",{required:!0}),placeholder:"Cantidad"})]}),(0,r.jsx)("hr",{className:"divider"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"input-label",children:"Precio de Costo"}),(0,r.jsx)("input",{type:"number",...g("price",{required:!0}),placeholder:"Precio"})]}),(0,r.jsx)("hr",{className:"divider"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"input-label",children:"Precio de Venta"}),(0,r.jsx)("input",{type:"number",...g("salePrice",{required:!0}),placeholder:"Precio"})]}),(0,r.jsx)("hr",{className:"divider"}),(0,r.jsx)(h.Z,{type:"submit",children:"Agregar Producto"}),(0,r.jsx)("hr",{className:"divider"}),(0,r.jsx)(h.Z,{onClick:()=>x(!1),children:"Cancelar"})]})}),(0,r.jsx)(p.Z,{disabled:!(n.length>0),ids:n,onClickAction:E,tittle:"Eliminar",color:"error"})]})]}),(0,r.jsx)(d.Z,{open:j,onClose:()=>f(!1),children:(0,r.jsxs)("form",{className:"addProduct",onSubmit:e=>{e.preventDefault(),P(b),k()},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"input-label",children:"Nombre"}),(0,r.jsx)("input",{type:"text",name:"name",value:b.name,onChange:q,placeholder:"Nombre"})]}),(0,r.jsx)("hr",{className:"divider"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"input-label",children:"Proveedor"}),(0,r.jsx)("input",{type:"text",name:"supplier",value:b.supplier,onChange:q,placeholder:"Proveedor"})]}),(0,r.jsx)("hr",{className:"divider"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"input-label",children:"Descripci\xf3n"}),(0,r.jsx)("input",{type:"text",name:"description",value:b.description,onChange:q,placeholder:"Descripci\xf3n"})]}),(0,r.jsx)("hr",{className:"divider"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"quantity",className:"input-label",children:"Cantidad"}),(0,r.jsx)("input",{type:"number",name:"quantity",value:b.quantity,onChange:q,placeholder:"Cantidad"})]}),(0,r.jsx)("hr",{className:"divider"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"price",className:"input-label",children:"Precio de Costo"}),(0,r.jsx)("input",{type:"number",name:"price",value:b.price,onChange:q,placeholder:"Precio"})]}),(0,r.jsx)("hr",{className:"divider"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"salePrice",className:"input-label",children:"Precio de Venta"}),(0,r.jsx)("input",{type:"number",name:"salePrice",value:b.salePrice,onChange:q,placeholder:"Precio"})]}),(0,r.jsx)("hr",{className:"divider"}),(0,r.jsx)(h.Z,{type:"submit",children:"Guardar Cambios"}),(0,r.jsx)("hr",{className:"divider"}),(0,r.jsx)(h.Z,{onClick:()=>f(!1),children:"Cancelar"})]})})]})}var x=n(18962),j=n(74824),f=n(43631),g=n(14864);let y=()=>{let{data:e,isLoading:t}=(0,j.useQuery)(["product"],f.Xp);return t?(0,r.jsxs)(x.W,{children:[(0,r.jsx)(x.U,{children:"Stock"}),(0,r.jsx)(g.Z,{})]}):(0,r.jsxs)(x.W,{children:[(0,r.jsx)(x.U,{children:"Stock"}),(0,r.jsx)(m,{data:e})]})};var v=y},15894:function(e,t,n){"use strict";n.d(t,{PI:function(){return u},Zy:function(){return s},rZ:function(){return d},wd:function(){return h}});var r=n(43631);let i=async e=>{let{selectRows:t}=e;console.log("action products");try{console.log("action try"),await (0,r.dW)({selectRows:t})}catch(e){throw console.log(e),e}},a=async e=>{let{selectRows:t}=e;console.log("action products");try{console.log("action try"),await (0,r.b9)({selectRows:t})}catch(e){throw console.log(e),e}},o=async e=>{console.log("action productsAddaaa"),console.log(e);try{console.log("action try"),await (0,r.MI)(e)}catch(e){throw console.log(e),e}},l=async e=>{console.log("action productsEdit"),console.log(e);try{console.log("action try"),await (0,r.O9)(e)}catch(e){throw console.log(e),e}};n(990);var c=n(74824);let s=()=>{let e=(0,c.useQueryClient)();return(0,c.useMutation)(i,{onSuccess:()=>{e.invalidateQueries("product")},onError:()=>{e.invalidateQueries("product")}})},d=()=>{let e=(0,c.useQueryClient)();return(0,c.useMutation)(a,{onSuccess:()=>{e.invalidateQueries("product")},onError:()=>{e.invalidateQueries("product")}})},u=()=>{let e=(0,c.useQueryClient)();return(0,c.useMutation)(o,{onSuccess:()=>{e.invalidateQueries("product")},onError:()=>{e.invalidateQueries("product")}})},h=()=>{let e=(0,c.useQueryClient)();return(0,c.useMutation)(l,{onSuccess:()=>{e.invalidateQueries("product")},onError:()=>{e.invalidateQueries("product")}})}},18962:function(e,t,n){"use strict";n.d(t,{U:function(){return l},W:function(){return c}});var r=n(62805),i=n(44445);function a(){let e=(0,r._)(["\n  color: rgb(31 41 55);\n  font-size: 30px;\n  margin: 20px 0;\n\n"]);return a=function(){return e},e}function o(){let e=(0,r._)(["\n  max-width: 1200px;\n  margin: 0 auto;\n  height: 200vh\n"]);return o=function(){return e},e}let l=i.ZP.h1(a()),c=i.ZP.div(o())}},function(e){e.O(0,[974,824,781,654,667,139,744],function(){return e(e.s=19917)}),_N_E=e.O()}]);